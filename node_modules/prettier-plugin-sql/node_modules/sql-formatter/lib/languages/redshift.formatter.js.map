{"version":3,"sources":["../../src/languages/redshift.formatter.ts"],"names":["reservedFunctions","aggregate","array","bitwise","conditional","dateTime","spatial","hash","hyperLogLog","json","math","machineLearning","string","superType","window","dataType","sysAdmin","sysInfo","reservedKeywords","standard","dataConversionParams","dataLoadParams","dataFormatParams","copyAuthParams","copyCompressionParams","copyMiscParams","compressionEncodings","misc","dataTypes","reservedCommands","reservedBinaryCommands","reservedDependentClauses","RedshiftFormatter","Tokenizer","Object","values","reduce","acc","arr","stringTypes","indexedPlaceholderTypes","namedPlaceholderTypes","operators","Formatter"],"mappings":"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","sourcesContent":["import Formatter from 'src/core/Formatter';\nimport Tokenizer from 'src/core/Tokenizer';\nimport { type StringPatternType } from 'src/core/regexFactory';\nimport { dedupe } from 'src/utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\nconst reservedFunctions = {\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_Aggregate_Functions.html\n  aggregate: [\n    'ANY_VALUE',\n    'APPROXIMATE PERCENTILE_DISC',\n    'AVG',\n    'COUNT',\n    'LISTAGG',\n    'MAX',\n    'MEDIAN',\n    'MIN',\n    'PERCENTILE_CONT',\n    'STDDEV_SAMP',\n    'STDDEV_POP',\n    'SUM',\n    'VAR_SAMP',\n    'VAR_POP',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_Array_Functions.html\n  array: [\n    'array',\n    'array_concat',\n    'array_flatten',\n    'get_array_length',\n    'split_to_array',\n    'subarray',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_bitwise_aggregate_functions.html\n  bitwise: ['BIT_AND', 'BIT_OR', 'BOOL_AND', 'BOOL_OR'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_conditional_expressions.html\n  conditional: ['COALESCE', 'DECODE', 'GREATEST', 'LEAST', 'NVL', 'NVL2', 'NULLIF'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/Date_functions_header.html\n  dateTime: [\n    'ADD_MONTHS',\n    'AT TIME ZONE',\n    'CONVERT_TIMEZONE',\n    'CURRENT_DATE',\n    'CURRENT_TIME',\n    'CURRENT_TIMESTAMP',\n    'DATE_CMP',\n    'DATE_CMP_TIMESTAMP',\n    'DATE_CMP_TIMESTAMPTZ',\n    'DATE_PART_YEAR',\n    'DATEADD',\n    'DATEDIFF',\n    'DATE_PART',\n    'DATE_TRUNC',\n    'EXTRACT',\n    'GETDATE',\n    'INTERVAL_CMP',\n    'LAST_DAY',\n    'MONTHS_BETWEEN',\n    'NEXT_DAY',\n    'SYSDATE',\n    'TIMEOFDAY',\n    'TIMESTAMP_CMP',\n    'TIMESTAMP_CMP_DATE',\n    'TIMESTAMP_CMP_TIMESTAMPTZ',\n    'TIMESTAMPTZ_CMP',\n    'TIMESTAMPTZ_CMP_DATE',\n    'TIMESTAMPTZ_CMP_TIMESTAMP',\n    'TIMEZONE',\n    'TO_TIMESTAMP',\n    'TRUNC',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/geospatial-functions.html\n  spatial: [\n    'AddBBox',\n    'DropBBox',\n    'GeometryType',\n    'ST_AddPoint',\n    'ST_Angle',\n    'ST_Area',\n    'ST_AsBinary',\n    'ST_AsEWKB',\n    'ST_AsEWKT',\n    'ST_AsGeoJSON',\n    'ST_AsText',\n    'ST_Azimuth',\n    'ST_Boundary',\n    'ST_Collect',\n    'ST_Contains',\n    'ST_ContainsProperly',\n    'ST_ConvexHull',\n    'ST_CoveredBy',\n    'ST_Covers',\n    'ST_Crosses',\n    'ST_Dimension',\n    'ST_Disjoint',\n    'ST_Distance',\n    'ST_DistanceSphere',\n    'ST_DWithin',\n    'ST_EndPoint',\n    'ST_Envelope',\n    'ST_Equals',\n    'ST_ExteriorRing',\n    'ST_Force2D',\n    'ST_Force3D',\n    'ST_Force3DM',\n    'ST_Force3DZ',\n    'ST_Force4D',\n    'ST_GeometryN',\n    'ST_GeometryType',\n    'ST_GeomFromEWKB',\n    'ST_GeomFromEWKT',\n    'ST_GeomFromText',\n    'ST_GeomFromWKB',\n    'ST_InteriorRingN',\n    'ST_Intersects',\n    'ST_IsPolygonCCW',\n    'ST_IsPolygonCW',\n    'ST_IsClosed',\n    'ST_IsCollection',\n    'ST_IsEmpty',\n    'ST_IsSimple',\n    'ST_IsValid',\n    'ST_Length',\n    'ST_LengthSphere',\n    'ST_Length2D',\n    'ST_LineFromMultiPoint',\n    'ST_LineInterpolatePoint',\n    'ST_M',\n    'ST_MakeEnvelope',\n    'ST_MakeLine',\n    'ST_MakePoint',\n    'ST_MakePolygon',\n    'ST_MemSize',\n    'ST_MMax',\n    'ST_MMin',\n    'ST_Multi',\n    'ST_NDims',\n    'ST_NPoints',\n    'ST_NRings',\n    'ST_NumGeometries',\n    'ST_NumInteriorRings',\n    'ST_NumPoints',\n    'ST_Perimeter',\n    'ST_Perimeter2D',\n    'ST_Point',\n    'ST_PointN',\n    'ST_Points',\n    'ST_Polygon',\n    'ST_RemovePoint',\n    'ST_Reverse',\n    'ST_SetPoint',\n    'ST_SetSRID',\n    'ST_Simplify',\n    'ST_SRID',\n    'ST_StartPoint',\n    'ST_Touches',\n    'ST_Within',\n    'ST_X',\n    'ST_XMax',\n    'ST_XMin',\n    'ST_Y',\n    'ST_YMax',\n    'ST_YMin',\n    'ST_Z',\n    'ST_ZMax',\n    'ST_ZMin',\n    'SupportsBBox',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/hash-functions.html\n  hash: ['CHECKSUM', 'FUNC_SHA1', 'FNV_HASH', 'MD5', 'SHA', 'SHA1', 'SHA2'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/hyperloglog-functions.html\n  hyperLogLog: ['HLL', 'HLL_CREATE_SKETCH', 'HLL_CARDINALITY', 'HLL_COMBINE'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/json-functions.html\n  json: [\n    'IS_VALID_JSON',\n    'IS_VALID_JSON_ARRAY',\n    'JSON_ARRAY_LENGTH',\n    'JSON_EXTRACT_ARRAY_ELEMENT_TEXT',\n    'JSON_EXTRACT_PATH_TEXT',\n    'JSON_PARSE',\n    'JSON_SERIALIZE',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/Math_functions.html\n  math: [\n    'ABS',\n    'ACOS',\n    'ASIN',\n    'ATAN',\n    'ATAN2',\n    'CBRT',\n    'CEILING',\n    'CEIL',\n    'COS',\n    'COT',\n    'DEGREES',\n    'DEXP',\n    'DLOG1',\n    'DLOG10',\n    'EXP',\n    'FLOOR',\n    'LN',\n    'LOG',\n    'MOD',\n    'PI',\n    'POWER',\n    'RADIANS',\n    'RANDOM',\n    'ROUND',\n    'SIN',\n    'SIGN',\n    'SQRT',\n    'TAN',\n    'TO_HEX',\n    'TRUNC',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/ml-function.html\n  machineLearning: ['EXPLAIN_MODEL'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/String_functions_header.html\n  string: [\n    'ASCII',\n    'BPCHARCMP',\n    'BTRIM',\n    'BTTEXT_PATTERN_CMP',\n    'CHAR_LENGTH',\n    'CHARACTER_LENGTH',\n    'CHARINDEX',\n    'CHR',\n    'COLLATE',\n    'CONCAT',\n    'CRC32',\n    'DIFFERENCE',\n    'INITCAP',\n    'LEFT',\n    'RIGHT',\n    'LEN',\n    'LENGTH',\n    'LOWER',\n    'LPAD',\n    'RPAD',\n    'LTRIM',\n    'OCTETINDEX',\n    'OCTET_LENGTH',\n    'POSITION',\n    'QUOTE_IDENT',\n    'QUOTE_LITERAL',\n    'REGEXP_COUNT',\n    'REGEXP_INSTR',\n    'REGEXP_REPLACE',\n    'REGEXP_SUBSTR',\n    'REPEAT',\n    'REPLACE',\n    'REPLICATE',\n    'REVERSE',\n    'RTRIM',\n    'SOUNDEX',\n    'SPLIT_PART',\n    'STRPOS',\n    'STRTOL',\n    'SUBSTRING',\n    'TEXTLEN',\n    'TRANSLATE',\n    'TRIM',\n    'UPPER',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_Type_Info_Functions.html\n  superType: [\n    'decimal_precision',\n    'decimal_scale',\n    'is_array',\n    'is_bigint',\n    'is_boolean',\n    'is_char',\n    'is_decimal',\n    'is_float',\n    'is_integer',\n    'is_object',\n    'is_scalar',\n    'is_smallint',\n    'is_varchar',\n    'json_typeof',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_Window_functions.html\n  window: [\n    'AVG',\n    'COUNT',\n    'CUME_DIST',\n    'DENSE_RANK',\n    'FIRST_VALUE',\n    'LAST_VALUE',\n    'LAG',\n    'LEAD',\n    'LISTAGG',\n    'MAX',\n    'MEDIAN',\n    'MIN',\n    'NTH_VALUE',\n    'NTILE',\n    'PERCENT_RANK',\n    'PERCENTILE_CONT',\n    'PERCENTILE_DISC',\n    'RANK',\n    'RATIO_TO_REPORT',\n    'ROW_NUMBER',\n    'STDDEV_SAMP',\n    'STDDEV_POP',\n    'SUM',\n    'VAR_SAMP',\n    'VAR_POP',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/r_Data_type_formatting.html\n  dataType: [\n    'CAST',\n    'CONVERT',\n    'TO_CHAR',\n    'TO_DATE',\n    'TO_NUMBER',\n    'TEXT_TO_INT_ALT',\n    'TEXT_TO_NUMERIC_ALT',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/r_System_administration_functions.html\n  sysAdmin: [\n    'CHANGE_QUERY_PRIORITY',\n    'CHANGE_SESSION_PRIORITY',\n    'CHANGE_USER_PRIORITY',\n    'CURRENT_SETTING',\n    'PG_CANCEL_BACKEND',\n    'PG_TERMINATE_BACKEND',\n    'REBOOT_CLUSTER',\n    'SET_CONFIG',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/r_System_information_functions.html\n  sysInfo: [\n    'CURRENT_AWS_ACCOUNT',\n    'CURRENT_DATABASE',\n    'CURRENT_NAMESPACE',\n    'CURRENT_SCHEMA',\n    'CURRENT_SCHEMAS',\n    'CURRENT_USER',\n    'CURRENT_USER_ID',\n    'HAS_ASSUMEROLE_PRIVILEGE',\n    'HAS_DATABASE_PRIVILEGE',\n    'HAS_SCHEMA_PRIVILEGE',\n    'HAS_TABLE_PRIVILEGE',\n    'PG_BACKEND_PID',\n    'PG_GET_COLS',\n    'PG_GET_GRANTEE_BY_IAM_ROLE',\n    'PG_GET_IAM_ROLE_BY_USER',\n    'PG_GET_LATE_BINDING_VIEW_COLS',\n    'PG_LAST_COPY_COUNT',\n    'PG_LAST_COPY_ID',\n    'PG_LAST_UNLOAD_ID',\n    'PG_LAST_QUERY_ID',\n    'PG_LAST_UNLOAD_COUNT',\n    'SESSION_USER',\n    'SLICE_NUM',\n    'USER',\n    'VERSION',\n  ],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = {\n  // https://docs.aws.amazon.com/redshift/latest/dg/r_pg_keywords.html\n  standard: [\n    'AES128',\n    'AES256',\n    'ALL',\n    'ALLOWOVERWRITE',\n    'ANY',\n    'ARRAY',\n    'AS',\n    'ASC',\n    'AUTHORIZATION',\n    'BACKUP',\n    'BETWEEN',\n    'BINARY',\n    'BOTH',\n    'CHECK',\n    'COLUMN',\n    'CONSTRAINT',\n    'CREATE',\n    'CROSS',\n    'DEFAULT',\n    'DEFERRABLE',\n    'DEFLATE',\n    'DEFRAG',\n    'DESC',\n    'DISABLE',\n    'DISTINCT',\n    'DO',\n    'ENABLE',\n    'ENCODE',\n    'ENCRYPT',\n    'ENCRYPTION',\n    'EXPLICIT',\n    'FALSE',\n    'FOR',\n    'FOREIGN',\n    'FREEZE',\n    'FROM',\n    'FULL',\n    'GLOBALDICT256',\n    'GLOBALDICT64K',\n    'GROUP',\n    'IDENTITY',\n    'IGNORE',\n    'ILIKE',\n    'IN',\n    'INITIALLY',\n    'INNER',\n    'INTO',\n    'IS',\n    'ISNULL',\n    'LANGUAGE',\n    'LEADING',\n    'LIKE',\n    'LIMIT',\n    'LOCALTIME',\n    'LOCALTIMESTAMP',\n    'LUN',\n    'LUNS',\n    'MINUS',\n    'NATURAL',\n    'NEW',\n    'NOT',\n    'NOTNULL',\n    'NULL',\n    'NULLS',\n    'OFF',\n    'OFFLINE',\n    'OFFSET',\n    'OID',\n    'OLD',\n    'ONLY',\n    'OPEN',\n    'ORDER',\n    'OUTER',\n    'OVERLAPS',\n    'PARALLEL',\n    'PARTITION',\n    'PERCENT',\n    'PERMISSIONS',\n    'PLACING',\n    'PRIMARY',\n    'RECOVER',\n    'REFERENCES',\n    'REJECTLOG',\n    'RESORT',\n    'RESPECT',\n    'RESTORE',\n    'SIMILAR',\n    'SNAPSHOT',\n    'SOME',\n    'SYSTEM',\n    'TABLE',\n    'TAG',\n    'TDES',\n    'THEN',\n    'TIMESTAMP',\n    'TO',\n    'TOP',\n    'TRAILING',\n    'TRUE',\n    'UNIQUE',\n    'VERBOSE',\n    'WALLET',\n    'WITHOUT',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html\n  dataConversionParams: [\n    'ACCEPTANYDATE',\n    'ACCEPTINVCHARS',\n    'BLANKSASNULL',\n    'DATEFORMAT',\n    'EMPTYASNULL',\n    'ENCODING',\n    'ESCAPE',\n    'EXPLICIT_IDS',\n    'FILLRECORD',\n    'IGNOREBLANKLINES',\n    'IGNOREHEADER',\n    'NULL AS',\n    'REMOVEQUOTES',\n    'ROUNDEC',\n    'TIMEFORMAT',\n    'TRIMBLANKS',\n    'TRUNCATECOLUMNS',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-load.html\n  dataLoadParams: ['COMPROWS', 'COMPUPDATE', 'MAXERROR', 'NOLOAD', 'STATUPDATE'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-format.html\n  dataFormatParams: [\n    'FORMAT',\n    'CSV',\n    'DELIMITER',\n    'FIXEDWIDTH',\n    'SHAPEFILE',\n    'AVRO',\n    'JSON',\n    'PARQUET',\n    'ORC',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html\n  copyAuthParams: [\n    'ACCESS_KEY_ID',\n    'CREDENTIALS',\n    'ENCRYPTED',\n    'IAM_ROLE',\n    'MASTER_SYMMETRIC_KEY',\n    'SECRET_ACCESS_KEY',\n    'SESSION_TOKEN',\n  ],\n  // https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-file-compression.html\n  copyCompressionParams: ['BZIP2', 'GZIP', 'LZOP', 'ZSTD'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/r_COPY-alphabetical-parm-list.html\n  copyMiscParams: ['MANIFEST', 'READRATIO', 'REGION', 'SSH'],\n  // https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html\n  compressionEncodings: [\n    'RAW',\n    'AZ64',\n    'BYTEDICT',\n    'DELTA',\n    'DELTA32K',\n    'LZO',\n    'MOSTLY8',\n    'MOSTLY16',\n    'MOSTLY32',\n    'RUNLENGTH',\n    'TEXT255',\n    'TEXT32K',\n  ],\n  misc: [\n    // CREATE EXTERNAL SCHEMA (https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html)\n    'CATALOG_ROLE',\n    'SECRET_ARN',\n    'EXTERNAL',\n    'HIVE METASTORE', // https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html\n    // https://docs.aws.amazon.com/redshift/latest/dg/c_choosing_dist_sort.html\n    'AUTO',\n    'EVEN',\n    'KEY',\n    'PREDICATE', // ANALYZE | ANALYSE (https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html)\n    // unknown\n    'COMPRESSION',\n    'DATA CATALOG',\n  ],\n  /**\n   * Other keywords not included:\n   * STL: https://docs.aws.amazon.com/redshift/latest/dg/c_intro_STL_tables.html\n   * SVCS: https://docs.aws.amazon.com/redshift/latest/dg/svcs_views.html\n   * SVL: https://docs.aws.amazon.com/redshift/latest/dg/svl_views.html\n   * SVV: https://docs.aws.amazon.com/redshift/latest/dg/svv_views.html\n   */\n  dataTypes: [\n    'CHAR',\n    'CHARACTER',\n    'NCHAR',\n    'VARCHAR',\n    'CHARACTER VARYING',\n    'NVARCHAR',\n    'BPCHAR',\n    'TEXT',\n  ],\n};\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html\nconst reservedCommands = [\n  'ABORT',\n  'ALTER DATABASE',\n  'ALTER DATASHARE',\n  'ALTER DEFAULT PRIVILEGES',\n  'ALTER GROUP',\n  'ALTER MATERIALIZED VIEW',\n  'ALTER PROCEDURE',\n  'ALTER SCHEMA',\n  'ALTER TABLE',\n  'ALTER TABLE APPEND',\n  'ALTER USER',\n  'ANALYSE',\n  'ANALYZE',\n  'ANALYSE COMPRESSION',\n  'ANALYZE COMPRESSION',\n  'BEGIN',\n  'CALL',\n  'CANCEL',\n  'CLOSE',\n  'COMMENT',\n  'COMMIT',\n  'COPY',\n  'CREATE DATABASE',\n  'CREATE DATASHARE',\n  'CREATE EXTERNAL FUNCTION',\n  'CREATE EXTERNAL SCHEMA',\n  'CREATE EXTERNAL TABLE',\n  'CREATE FUNCTION',\n  'CREATE GROUP',\n  'CREATE LIBRARY',\n  'CREATE MATERIALIZED VIEW',\n  'CREATE MODEL',\n  'CREATE PROCEDURE',\n  'CREATE SCHEMA',\n  'CREATE TABLE',\n  'CREATE TABLE AS',\n  'CREATE USER',\n  'CREATE VIEW',\n  'DEALLOCATE',\n  'DECLARE',\n  'DELETE',\n  'DELETE FROM',\n  'DESC DATASHARE',\n  'DROP DATABASE',\n  'DROP DATASHARE',\n  'DROP FUNCTION',\n  'DROP GROUP',\n  'DROP LIBRARY',\n  'DROP MODEL',\n  'DROP MATERIALIZED VIEW',\n  'DROP PROCEDURE',\n  'DROP SCHEMA',\n  'DROP TABLE',\n  'DROP USER',\n  'DROP VIEW',\n  'DROP',\n  'EXECUTE',\n  'EXPLAIN',\n  'FETCH',\n  'FROM',\n  'GRANT',\n  'HAVING',\n  'INSERT',\n  'LOCK',\n  'PREPARE',\n  'REFRESH MATERIALIZED VIEW',\n  'RESET',\n  'REVOKE',\n  'ROLLBACK',\n  'SELECT',\n  'SELECT INTO',\n  'SET',\n  'SET SESSION AUTHORIZATION',\n  'SET SESSION CHARACTERISTICS',\n  'SHOW',\n  'SHOW EXTERNAL TABLE',\n  'SHOW MODEL',\n  'SHOW DATASHARES',\n  'SHOW PROCEDURE',\n  'SHOW TABLE',\n  'SHOW VIEW',\n  'START TRANSACTION',\n  'TRUNCATE',\n  'UNLOAD',\n  'UPDATE',\n  'VACUUM',\n  'WHERE',\n  'WITH',\n  // other\n  'GROUP BY',\n  'ORDER BY',\n  'LIMIT',\n  'OFFSET',\n  'VALUES',\n  'MODIFY', // verify\n  'INSERT INTO', // verify\n  'ALTER COLUMN', // verify\n  'SET SCHEMA', // verify\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n  // set booleans\n  'INTERSECT',\n  'INTERSECT ALL',\n  'INTERSECT DISTINCT',\n  'UNION',\n  'UNION ALL',\n  'UNION DISTINCT',\n  'EXCEPT',\n  'EXCEPT ALL',\n  'EXCEPT DISTINCT',\n  // joins\n  'JOIN',\n  'INNER JOIN',\n  'LEFT JOIN',\n  'LEFT OUTER JOIN',\n  'RIGHT JOIN',\n  'RIGHT OUTER JOIN',\n  'FULL JOIN',\n  'FULL OUTER JOIN',\n  'CROSS JOIN',\n  'NATURAL JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['WHEN', 'ELSE'];\n\n// https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html\nexport default class RedshiftFormatter extends Formatter {\n  static stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``'];\n  static operators = ['|/', '||/', '<<', '>>', '||'];\n\n  tokenizer() {\n    return new Tokenizer({\n      reservedCommands,\n      reservedBinaryCommands,\n      reservedDependentClauses,\n      reservedKeywords: dedupe([\n        ...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n        ...Object.values(reservedKeywords).reduce((acc, arr) => [...acc, ...arr], []),\n      ]),\n      stringTypes: RedshiftFormatter.stringTypes,\n      indexedPlaceholderTypes: ['?'],\n      // XXX: Seems like redshift only supports $1, $2, $3 parameters,\n      // but for some reason we list lots of types in here.\n      // https://docs.aws.amazon.com/redshift/latest/dg/r_PREPARE.html\n      namedPlaceholderTypes: ['@', '#', '$'],\n      operators: RedshiftFormatter.operators,\n    });\n  }\n}\n"],"file":"redshift.formatter.js"}